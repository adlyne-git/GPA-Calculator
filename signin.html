<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Sign In | GPA Calculator</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<div class="container">
			<h2>Sign In</h2>
			<form id="signin-form">
				<input type="email" id="signin-email" placeholder="Email" required />
				<input
					type="password"
					id="signin-password"
					placeholder="Password"
					required
				/>
				<button type="submit">Sign In</button>
			</form>
			<p>Donâ€™t have an account? <a href="signup.html">Sign Up</a></p>
		</div>

		<script>
			document
				.getElementById("signin-form")
				.addEventListener("submit", function (e) {
					e.preventDefault();

					const email = document
						.getElementById("signin-email")
						.value.trim()
						.toLowerCase();
					const password = document
						.getElementById("signin-password")
						.value.trim();

					const users = JSON.parse(localStorage.getItem("users") || "[]");
					const user = users.find(
						(u) => u.email === email && u.password === password
					);

					if (user) {
						localStorage.setItem("loggedIn", "true");
						localStorage.setItem("currentUser", email);
						window.location.href = "calculator.html";
					} else {
						alert("Invalid email or password. Please try again.");
					}
				});
		</script>
	</body>
</html>
